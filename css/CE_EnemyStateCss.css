/* 整個敵人狀態區 */
.ce-enemy-state {
    margin: 0.5em 0;
}

/* 單條狀態 */
.ce-enemy-state-row {
    display: flex;
    align-items: center;
    gap: 0.5em;
    margin: 0.25em 0;
}

/* 左邊文字 */
.ce-enemy-state-label {
    width: 3em;
    font-size: 0.9em;
    color: #eee;
}

/* 血條背景 */
.ce-enemy-state-bar {
    flex: 1;
    height: 8px;              /* ❗關鍵：一定要有高度 */
    background: #333;         /* ❗不然你看不到 */
    border-radius: 4px;
    overflow: hidden;
}

/* 填充條 */
.ce-enemy-state-fill {
    height: 100%;
    background: #c33;         /* 預設紅色 */
    transition: width 0.3s ease;
}


/* 右側數字（不影響條長度） */
.ce-enemy-state-debug {
    flex-shrink: 0;          /* ❗不准擠壓 bar */
    min-width: 5.5em;        /* ❗固定顯示區域 */
    text-align: right;
    font-size: 0.8em;
    opacity: 0.7;

    /* 讓數字寬度一致（UI 細節加分） */
    font-variant-numeric: tabular-nums;
}

/* 信任值超過100附加報表特效*/
.ce-enemy-state-fill.trust-shine {
    position: relative;
    overflow: hidden;
}

.ce-enemy-state-fill.trust-shine::after {
    content: '';
    position: absolute;
    top: 0;
    left: -40%;
    width: 40%;
    height: 100%;

    background: linear-gradient(
        120deg,
        rgba(255,255,255,0) 0%,
        rgba(255,255,255,0.55) 50%,
        rgba(255,255,255,0) 100%
    );

    animation: trustShine 1.8s linear infinite;
    pointer-events: none;
}

@keyframes trustShine {
    from { left: -40%; }
    to   { left: 120%; }
}

.ce-enemy-state-fill.trust-pulse {
    animation: trustPulse 1.4s ease-in-out infinite;
}

@keyframes trustPulse {
    0%   { background-color: #1abc9c; }
    50%  { background-color: #8ffff0; }
    100% { background-color: #1abc9c; }
}

/* 憤怒值超過100附加爆怒閃爍特效 */
.ce-enemy-state-fill.anger-shine {
    position: relative;
    overflow: hidden;
}

.ce-enemy-state-fill.anger-shine::after {
    content: '';
    position: absolute;
    top: 0;
    left: -50%;
    width: 50%;
    height: 100%;

    background: linear-gradient(
        110deg,
        rgba(255,255,255,0) 0%,
        rgba(255,120,120,0.65) 50%,
        rgba(255,255,255,0) 100%
    );

    animation: angerShine 1.1s linear infinite;
    pointer-events: none;
}

@keyframes angerShine {
    from { left: -50%; }
    to   { left: 130%; }
}

.ce-enemy-state-fill.anger-pulse {
    animation: angerPulse 0.75s ease-in-out infinite;
}

@keyframes angerPulse {
    0% {
        background-color: #c0392b;
        filter: brightness(1);
    }
    50% {
        background-color: #ff6b6b;
        filter: brightness(1.4);
    }
    100% {
        background-color: #c0392b;
        filter: brightness(1);
    }
}

/* 類型顏色 */
.ce-enemy-state--health  .ce-enemy-state-fill { background: #c0392b; }
.ce-enemy-state--arousal .ce-enemy-state-fill { background: #e056fd; }
.ce-enemy-state--anger   .ce-enemy-state-fill { background: #f0932b; }
.ce-enemy-state--trust   .ce-enemy-state-fill { background: #6ab04c; }